class Powcaptcha{static async solveChallenge(r,o=4,n=null){if(o<1||7<o)throw new Error("Difficulty need to be between 1-7");if(!r||r.length<32||r.length%32)throw new Error("Invalid challenge string");let c=r.length/32-1;if("undefined"!=typeof window&&"function"==typeof Worker){var i=Powcaptcha.toString()+";\n",h=[];let a=0;for(let e=0;e<c;e++){var l=i,s=r.substring(32*e,32*e+32),s=(l+="(async()=>{self.postMessage(Powcaptcha.solverWorker("+JSON.stringify(s)+", "+JSON.stringify(o)+"))})()",new Blob([l],{type:"text/javascript"}));let t=new Worker(URL.createObjectURL(s));h.push(new Promise(e=>{t.onmessage=t=>{"string"==typeof t.data&&(a++,n&&n(1/c*a),e(t.data))}}))}return(await Promise.all(h)).join("")}{let e="";for(let t=0;t<c;t++)e+=Powcaptcha.solverWorker(r.substring(32*t,32*t+32),o),n&&n(1/c*t);return e}}static hash(e){e=Powcaptcha.toUint8Array(e);let a=2166136261,r=2341284503,o=3386659096,n=2073922445;var c=16777619;for(let t=0;t<e.byteLength;t++){var i=e[t];a=(a^i)>>>0,a=Math.imul(a,c)>>>0,r=(r^i<<1&255)>>>0,r=Math.imul(r,c)>>>0,o=(o^i<<2&255)>>>0,o=Math.imul(o,c)>>>0,n=(n^i<<3&255)>>>0,n=Math.imul(n,c)>>>0}return Powcaptcha.fmix(a)+Powcaptcha.fmix(r)+Powcaptcha.fmix(o)+Powcaptcha.fmix(n)}static hashInt(e){e=Powcaptcha.toUint8Array(e);let a=2166136261;for(let t=0;t<e.byteLength;t++){var r=e[t];a=(a^r)>>>0,a=Math.imul(a,16777619)>>>0}return Powcaptcha.fmix(a,!1)}static solverWorker(t,e=4){var a=Math.pow(10,10-e),r=Math.pow(10,e+2);let o=Math.pow(10,e+1);for(;o<=r;){if(Powcaptcha.hashInt(t+o)<=a)return o.toString();o++}return""}static fmix(t,e=!0){var a=65535&(t=((t>>>=0)^t>>>16)>>>0),a=(t=51819*a+(51819*(t>>>16&65535)+34283*a<<16>>>0)>>>0&4294967295,65535&(t^=t>>>13));return t=((t=44597*a+(44597*(t>>>16&65535)+49842*a<<16>>>0)>>>0&4294967295)^t>>>16)>>>0,e?t.toString(16).padStart(8,"0"):t>>>0}static toUint8Array(t){if(!Powcaptcha.encoder){let e=new TextEncoder;Powcaptcha.encoder=t=>"string"==typeof t||"number"==typeof t?e.encode(t+""):t}return Powcaptcha.encoder(t)}}"undefined"!=typeof module&&module.exports&&(module.exports=Powcaptcha);